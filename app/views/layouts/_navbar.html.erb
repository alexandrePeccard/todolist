<nav class="navbar navbar-light bg-light">
  <div class="dropdown">
    <span class="navbar-brand mb-0 h1">
      <%= link_to "Sandbox App", root_path, class: "navbar-brand" %>
    </span>
    <div id="dropdown" class="dropdown-content">
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        <% unless user_signed_in? %>
          <li class="nav-item">
            <%= link_to "Log in", new_user_session_path, class: "nav-link" %>
          </li>
          <li class="nav-item">
            <%= link_to "Sign up", new_user_registration_path, class: "nav-link" %>
          </li>
          <% else %>
            <li class="nav-item">
              <%= link_to "Log out", destroy_user_session_path, method: :delete, class: "nav-link" %>
            </li>
          <% end %>
          <li class="nav-item">
            <%= link_to "New task", new_task_path, class: "nav-link" %>
          </li>
        </ul>
    </div>
    <img onclick="show_menu()" class="rounded-circle dropbtn" height="50px" width="50px" src="http://digitalspyuk.cdnds.net/17/25/320x320/square-1498216547-avatar-neytiri.jpg">
  </div>
</nav>
<script type="text/javascript">
  function show_menu() {
    document.getElementById("dropdown").classList.toggle("show");
  }

  // $(document).ready(function() {
    window.onclick = function(event) {
      if (!event.target.matches('.dropbtn')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    }
  // });
</script>